import{A as r,B as u,C as d,D as L,E as F,F as M,G as B,H as Y,I as w,J as h,K as D,L as Z,M as ee,Q as te,S as ie,T as ne,U as A,X as b,Y as O,_ as oe,a as $,b as q,c as k,d as z,e as x,f as J,g as P,h as H,i as g,j as R,k as G,l as K,m as E,n as a,o as f,p,q as c,r as o,s as i,t as l,u as Q,v as W,w as X,x as _,y,z as T}from"./chunk-KY6TPLJ6.js";var C=(()=>{class t{constructor(e){this.http=e,this.apiUrl="https://restcountries.com/v3.1",this.cacheStore={byCapital:{term:"",countries:[]},byCountries:{term:"",countries:[]},byRegion:{region:"",countries:[]}},this.loadToLocalStorage()}saveToLocalStorage(){localStorage.setItem("cacheStore",JSON.stringify(this.cacheStore))}loadToLocalStorage(){localStorage.getItem("cacheStore")&&(this.cacheStore=JSON.parse(localStorage.getItem("cacheStore")))}getCountriesRequest(e){return this.http.get(e).pipe(k(()=>$([])))}searchCountryByAlphaCode(e){let n=`${this.apiUrl}/alpha/${e}`;return this.http.get(n).pipe(q(s=>s.length>0?s[0]:null),k(()=>$(null)))}searchCapital(e){let n=`${this.apiUrl}/capital/${e}`;return this.getCountriesRequest(n).pipe(x(s=>this.cacheStore.byCapital={term:e,countries:s}),x(()=>this.saveToLocalStorage()))}searchCountry(e){let n=`${this.apiUrl}/name/${e}`;return this.getCountriesRequest(n).pipe(x(s=>this.cacheStore.byCountries={term:e,countries:s}),x(()=>this.saveToLocalStorage()))}searchRegion(e){let n=`${this.apiUrl}/region/${e}`;return this.getCountriesRequest(n).pipe(x(s=>this.cacheStore.byRegion={region:e,countries:s}),x(()=>this.saveToLocalStorage()))}static{this.\u0275fac=function(n){return new(n||t)(H(ee))}}static{this.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ue=t=>["/countries/by",t];function de(t,m){t&1&&(o(0,"div",3),r(1,` No hay pa\xEDses que mostrar
`),i())}function ge(t,m){if(t&1&&(Q(0),l(1,"img",7),W()),t&2){let e=y().$implicit;a(),c("src",e.coatOfArms.svg,E)("alt",e.name.common)}}function fe(t,m){if(t&1&&r(0),t&2){let e=y().$implicit;d(" ",e.flag," ")}}function he(t,m){if(t&1&&(o(0,"tr")(1,"td"),r(2),i(),o(3,"td"),p(4,ge,2,2,"ng-container",6)(5,fe,1,1,"ng-template",null,1,B),i(),o(7,"td"),l(8,"img",7),i(),o(9,"td"),r(10),i(),o(11,"td"),r(12),i(),o(13,"td"),r(14),F(15,"number"),i(),o(16,"td")(17,"a",8),r(18," Info "),i()()()),t&2){let e=m.$implicit,n=m.index,s=T(6);a(2),d(" ",n+1," "),a(2),c("ngIf",e.coatOfArms==null?null:e.coatOfArms.svg)("ngIfElse",s),a(4),c("src",e.flags.svg,E)("alt",e.name.common),a(2),d(" ",e.name.common," "),a(2),d(" ",e.capital," "),a(2),d(" ",M(15,9,e.population)," "),a(3),c("routerLink",L(11,ue,e.cca3))}}function ye(t,m){if(t&1&&(o(0,"table",4)(1,"thead")(2,"tr")(3,"th"),r(4,"#"),i(),o(5,"th"),r(6,"Icono"),i(),o(7,"th"),r(8,"Bandera"),i(),o(9,"th"),r(10,"Nombre"),i(),o(11,"th"),r(12,"Capital"),i(),o(13,"th"),r(14,"Poblaci\xF3n"),i(),l(15,"th"),i()(),o(16,"tbody"),p(17,he,19,13,"tr",5),i()()),t&2){let e=y();a(17),c("ngForOf",e.countries)}}var I=(()=>{class t{constructor(){this.countries=[]}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=g({type:t,selectors:[["countries-table"]],inputs:{countries:"countries"},decls:3,vars:2,consts:[["table",""],["flagTemplate",""],["class","alert alert-warning text center",4,"ngIf","ngIfElse"],[1,"alert","alert-warning","text","center"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[3,"src","alt"],[3,"routerLink"]],template:function(n,s){if(n&1&&p(0,de,2,0,"div",2)(1,ye,18,1,"ng-template",null,0,B),n&2){let v=T(2);c("ngIf",s.countries.length===0)("ngIfElse",v)}},dependencies:[w,h,ne,D],styles:["img[_ngcontent-%COMP%]{width:35px}"]})}}return t})();function ve(t,m){t&1&&l(0,"shared-loading-spinner")}var ae=(()=>{class t{constructor(e){this.countriesService=e,this.countries=[],this.isLoading=!1,this.initialValue=""}ngOnInit(){this.countries=this.countriesService.cacheStore.byCapital.countries,this.initialValue=this.countriesService.cacheStore.byCapital.term}searchByCapital(e){this.isLoading=!0,this.countriesService.searchCapital(e).subscribe(n=>{this.countries=n,this.isLoading=!1})}static{this.\u0275fac=function(n){return new(n||t)(f(C))}}static{this.\u0275cmp=g({type:t,selectors:[["app-by-capital-page"]],decls:11,vars:3,consts:[[1,"row"],[1,"col"],["placeholder","Buscar por capital",3,"onDebounce","initialValue"],[4,"ngIf"],[3,"countries"]],template:function(n,s){n&1&&(o(0,"h2"),r(1,"Por Capital"),i(),l(2,"hr"),o(3,"div",0)(4,"div",1)(5,"shared-seach-box",2),_("onDebounce",function(V){return s.searchByCapital(V)}),i()()(),o(6,"div",0)(7,"div",1),l(8,"hr"),p(9,ve,1,0,"shared-loading-spinner",3),l(10,"countries-table",4),i()()),n&2&&(a(5),c("initialValue",s.initialValue),a(4),c("ngIf",s.isLoading),a(),c("countries",s.countries))},dependencies:[h,b,O,I]})}}return t})();function xe(t,m){t&1&&l(0,"shared-loading-spinner")}var se=(()=>{class t{constructor(e){this.countriesService=e,this.countries=[],this.isLoading=!1,this.initialValue=""}ngOnInit(){this.countries=this.countriesService.cacheStore.byCountries.countries,this.initialValue=this.countriesService.cacheStore.byCountries.term}searchByCountry(e){this.isLoading=!0,this.countriesService.searchCountry(e).subscribe(n=>{this.countries=n,this.isLoading=!1})}static{this.\u0275fac=function(n){return new(n||t)(f(C))}}static{this.\u0275cmp=g({type:t,selectors:[["app-by-country-page"]],decls:11,vars:3,consts:[[1,"row"],[1,"col"],["placeholder","Buscar por ciudad",3,"onDebounce","initialValue"],[4,"ngIf"],[3,"countries"]],template:function(n,s){n&1&&(o(0,"h2"),r(1,"Por Pa\xEDs"),i(),l(2,"hr"),o(3,"div",0)(4,"div",1)(5,"shared-seach-box",2),_("onDebounce",function(V){return s.searchByCountry(V)}),i()()(),o(6,"div",0)(7,"div",1),l(8,"hr"),p(9,xe,1,0,"shared-loading-spinner",3),l(10,"countries-table",4),i()()),n&2&&(a(5),c("initialValue",s.initialValue),a(4),c("ngIf",s.isLoading),a(),c("countries",s.countries))},dependencies:[h,b,O,I]})}}return t})();var Se=t=>({"btn-outline-primary":t});function _e(t,m){if(t&1){let e=X();o(0,"button",6),_("click",function(){let s=G(e).$implicit,v=y();return K(v.searchByRegion(s))}),r(1),i()}if(t&2){let e=m.$implicit,n=y();c("ngClass",L(2,Se,n.selectedRegion===e)),a(),d(" ",e," ")}}function be(t,m){t&1&&l(0,"shared-loading-spinner")}var ce=(()=>{class t{constructor(e){this.countriesService=e,this.countries=[],this.isLoading=!1,this.regions=["Africa","Americas","Asia","Europe","Oceania"]}ngOnInit(){this.countries=this.countriesService.cacheStore.byRegion.countries,this.selectedRegion=this.countriesService.cacheStore.byRegion.region}searchByRegion(e){this.selectedRegion=e,this.isLoading=!0,this.countriesService.searchRegion(e).subscribe(n=>{this.countries=n,this.isLoading=!1})}static{this.\u0275fac=function(n){return new(n||t)(f(C))}}static{this.\u0275cmp=g({type:t,selectors:[["app-by-region-page"]],decls:11,vars:3,consts:[[1,"row"],[1,"col","text-center"],["class","btn mx-2",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"col"],[4,"ngIf"],[3,"countries"],[1,"btn","mx-2",3,"click","ngClass"]],template:function(n,s){n&1&&(o(0,"h2"),r(1,"Por Continente"),i(),l(2,"hr"),o(3,"div",0)(4,"div",1),p(5,_e,2,4,"button",2),i()(),o(6,"div",0)(7,"div",3),l(8,"hr"),p(9,be,1,0,"shared-loading-spinner",4),l(10,"countries-table",5),i()()),n&2&&(a(5),c("ngForOf",s.regions),a(4),c("ngIf",s.isLoading),a(),c("countries",s.countries))},dependencies:[Y,w,h,b,I]})}}return t})();function Ie(t,m){t&1&&(o(0,"div",2),r(1," Espere por favor "),i())}function Ee(t,m){if(t&1&&(o(0,"div")(1,"div",3)(2,"div",4)(3,"h2"),r(4,"Pa\xEDs: "),o(5,"strong"),r(6),i()(),l(7,"hr"),i()(),o(8,"div",3)(9,"div",5)(10,"h3"),r(11,"Bandera"),i(),l(12,"img",6),i(),o(13,"div",7)(14,"h3"),r(15,"Informaci\xF3n"),i(),o(16,"ul",8)(17,"li",9)(18,"strong"),r(19,"Poblaci\xF3n:"),i(),r(20),F(21,"number"),i(),o(22,"li",9)(23,"strong"),r(24,"C\xF3digo:"),i(),r(25),i()()()(),o(26,"div",10)(27,"div",7)(28,"h3"),r(29,"Traducciones"),i(),o(30,"div",11)(31,"span",12),r(32),i(),o(33,"span",12),r(34),i(),o(35,"span",12),r(36),i(),o(37,"span",12),r(38),i(),o(39,"span",12),r(40),i(),o(41,"span",12),r(42),i(),o(43,"span",12),r(44),i(),o(45,"span",12),r(46),i(),o(47,"span",12),r(48),i(),o(49,"span",12),r(50),i()()()()()),t&2){let e=y();a(6),u(e.country.name.common),a(6),c("src",e.country.flags.svg,E)("alt",e.country.name.common),a(8),d(" ",M(21,15,e.country.population)," "),a(5),d(" ",e.country.cca3," "),a(7),u(e.country.translations.ara.common),a(2),u(e.country.translations.bre.common),a(2),u(e.country.translations.ces.common),a(2),u(e.country.translations.cym.common),a(2),u(e.country.translations.deu.common),a(2),u(e.country.translations.est.common),a(2),u(e.country.translations.fin.common),a(2),u(e.country.translations.ita.common),a(2),u(e.country.translations.kor.common),a(2),u(e.country.translations.per.common)}}var le=(()=>{class t{constructor(e,n,s){this.activatedRoute=e,this.countriesService=n,this.router=s}ngOnInit(){this.activatedRoute.params.pipe(z(({id:e})=>this.countriesService.searchCountryByAlphaCode(e))).subscribe(e=>e?this.country=e:this.router.navigateByUrl(""))}static{this.\u0275fac=function(n){return new(n||t)(f(te),f(C),f(ie))}}static{this.\u0275cmp=g({type:t,selectors:[["app-country-page"]],decls:3,vars:2,consts:[["loading",""],[4,"ngIf","ngIfElse"],[1,"alert","alert-info","text-center"],[1,"row"],[1,"col-12"],[1,"col-4"],[1,"img-thumbnail",3,"src","alt"],[1,"col"],[1,"list-group"],[1,"list-group-item"],[1,"row","mt-2"],[1,"d-flex","flex-wrap"],[1,"badge","bg-primary","m-1"]],template:function(n,s){if(n&1&&p(0,Ie,2,0,"ng-template",null,0,B)(2,Ee,51,17,"div",1),n&2){let v=T(1);a(2),c("ngIf",s.country)("ngIfElse",v)}},dependencies:[h,D]})}}return t})();var Te=[{path:"by-capital",component:ae},{path:"by-country",component:se},{path:"by-region",component:ce},{path:"by/:id",component:le},{path:"**",redirectTo:"by-capital"}],me=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=R({type:t})}static{this.\u0275inj=P({imports:[A.forChild(Te),A]})}}return t})();var Ze=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=R({type:t})}static{this.\u0275inj=P({imports:[Z,me,oe]})}}return t})();export{Ze as CountriesModule};
